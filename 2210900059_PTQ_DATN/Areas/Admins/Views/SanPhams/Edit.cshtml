@model _2210900059_PTQ_DATN.Models.SanPham

@{
    ViewData["Title"] = "Chỉnh sửa sản phẩm";
}

<script src="https://cdn.tailwindcss.com"></script>

<div class="max-w-6xl mx-auto px-6 py-8">

    <!-- HEADER -->
    <div class="mb-8">
        <h1 class="text-3xl font-extrabold text-gray-800">
            Chỉnh sửa sản phẩm
        </h1>
        <p class="text-gray-500 mt-1">
            Cập nhật thông tin chi tiết của sản phẩm trong hệ thống
        </p>
    </div>

    <!-- FORM CARD -->
    <div class="bg-white rounded-2xl border border-gray-200 shadow-sm p-8">

        <form asp-action="Edit"
              enctype="multipart/form-data"
              class="space-y-8">

            <div asp-validation-summary="ModelOnly"
                 class="rounded-xl bg-red-50 text-red-600 px-4 py-3 text-sm"></div>

            <input type="hidden" asp-for="MaSanPham" />

            <!-- GRID -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

                <!-- Danh mục -->
                <div>
                    <label asp-for="MaDanhMuc"
                           class="block text-sm font-semibold text-gray-700 mb-1">
                        Danh mục
                    </label>
                    <select asp-for="MaDanhMuc"
                            asp-items="ViewBag.MaDanhMuc"
                            class="w-full h-11 px-4 rounded-xl
                                   border border-gray-300 bg-white
                                   focus:outline-none focus:ring-2
                                   focus:ring-purple-500 focus:border-purple-500">
                    </select>
                </div>

                <!-- Tên -->
                <div>
                    <label asp-for="TenSanPham"
                           class="block text-sm font-semibold text-gray-700 mb-1">
                        Tên sản phẩm
                    </label>
                    <input asp-for="TenSanPham"
                           class="w-full h-11 px-4 rounded-xl
                                  border border-gray-300
                                  focus:outline-none focus:ring-2
                                  focus:ring-purple-500 focus:border-purple-500" />
                </div>

                <div>
                    <label asp-for="Slug"
                           class="block text-sm font-semibold text-gray-700 mb-1">
                        Slug
                    </label>
                    <input asp-for="Slug"
                           class="w-full h-11 px-4 rounded-xl
                                  border border-gray-300" />
                </div>

                <div>
                    <label asp-for="LoaiSanPham"
                           class="block text-sm font-semibold text-gray-700 mb-1">
                        Loại sản phẩm
                    </label>
                    <input asp-for="LoaiSanPham"
                           class="w-full h-11 px-4 rounded-xl
                                  border border-gray-300" />
                </div>

                <div>
                    <label asp-for="ThuongHieu"
                           class="block text-sm font-semibold text-gray-700 mb-1">
                        Thương hiệu
                    </label>
                    <input asp-for="ThuongHieu"
                           class="w-full h-11 px-4 rounded-xl
                                  border border-gray-300" />
                </div>

                <div>
                    <label asp-for="DungTich"
                           class="block text-sm font-semibold text-gray-700 mb-1">
                        Dung tích
                    </label>
                    <input asp-for="DungTich"
                           class="w-full h-11 px-4 rounded-xl
                                  border border-gray-300" />
                </div>

                <div>
                    <label asp-for="DoiTuongSuDung"
                           class="block text-sm font-semibold text-gray-700 mb-1">
                        Đối tượng sử dụng
                    </label>
                    <input asp-for="DoiTuongSuDung"
                           class="w-full h-11 px-4 rounded-xl
                                  border border-gray-300" />
                </div>

                <!-- Giá -->
                <div>
                    <label asp-for="Gia"
                           class="block text-sm font-semibold text-gray-700 mb-1">
                        Giá bán (VNĐ)
                    </label>
                    <input asp-for="Gia" type="number" min="0"
                           class="w-full h-11 px-4 rounded-xl
                                  border border-gray-300" />
                </div>

                <!-- Số lượng -->
                <div>
                    <label asp-for="SoLuong"
                           class="block text-sm font-semibold text-gray-700 mb-1">
                        Số lượng tồn kho
                    </label>
                    <input asp-for="SoLuong" type="number" min="0"
                           class="w-full h-11 px-4 rounded-xl
                                  border border-gray-300
                                  focus:outline-none focus:ring-2
                                  focus:ring-purple-500 focus:border-purple-500" />
                    <span asp-validation-for="SoLuong"
                          class="text-sm text-red-600"></span>
                </div>
            </div>

            <!-- TEXTAREA -->
            <div>
                <label asp-for="MoTaNgan"
                       class="block text-sm font-semibold text-gray-700 mb-1">
                    Mô tả ngắn
                </label>
                <textarea asp-for="MoTaNgan" rows="3"
                          class="w-full px-4 py-3 rounded-xl
                                 border border-gray-300"></textarea>
            </div>

            <div>
                <label asp-for="MoTaChiTiet"
                       class="block text-sm font-semibold text-gray-700 mb-1">
                    Mô tả chi tiết
                </label>
                <textarea asp-for="MoTaChiTiet" rows="5"
                          class="w-full px-4 py-3 rounded-xl
                                 border border-gray-300"></textarea>
            </div>

            <div>
                <label asp-for="CongDungChinh"
                       class="block text-sm font-semibold text-gray-700 mb-1">
                    Công dụng chính
                </label>
                <input asp-for="CongDungChinh"
                       class="w-full h-11 px-4 rounded-xl
                              border border-gray-300" />
            </div>

            <div>
                <label asp-for="ThanhPhanNoiBat"
                       class="block text-sm font-semibold text-gray-700 mb-1">
                    Thành phần nổi bật
                </label>
                <input asp-for="ThanhPhanNoiBat"
                       class="w-full h-11 px-4 rounded-xl
                              border border-gray-300" />
            </div>

            <!-- IMAGE -->
            <div>
                <label class="block text-sm font-semibold text-gray-700 mb-2">
                    Hình ảnh sản phẩm
                </label>

                @if (!string.IsNullOrEmpty(Model.HinhAnh))
                {
                    <img src="~/images/products/@Model.HinhAnh"
                         class="h-24 w-24 rounded-xl border border-gray-200 mb-3 object-cover" />
                }

                <input type="file" name="HinhAnhFile"
                       accept="image/*"
                       class="w-full h-11 px-4 rounded-xl
                              border border-gray-300" />

                <input type="hidden" asp-for="HinhAnh" />
            </div>

            <!-- STATUS -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <label asp-for="TrangThai"
                           class="block text-sm font-semibold text-gray-700 mb-1">
                        Trạng thái
                    </label>
                    <select asp-for="TrangThai"
                            class="w-full h-11 px-4 rounded-xl
                                   border border-gray-300">
                        <option value="true">Đang bán</option>
                        <option value="false">Ngừng bán</option>
                    </select>
                </div>

                <div>
                    <label asp-for="NoiBat"
                           class="block text-sm font-semibold text-gray-700 mb-1">
                        Sản phẩm nổi bật
                    </label>
                    <select asp-for="NoiBat"
                            class="w-full h-11 px-4 rounded-xl
                                   border border-gray-300">
                        <option value="true">Có</option>
                        <option value="false">Không</option>
                    </select>
                </div>
            </div>

            <!-- ACTIONS -->
            <div class="flex items-center justify-between pt-6 border-t border-gray-200">

                <a asp-action="Index"
                   class="h-11 px-6 rounded-xl
                          border border-gray-300
                          flex items-center justify-center
                          text-gray-600 hover:bg-gray-100 transition">
                    Quay lại
                </a>

                <button type="submit"
                        class="h-11 px-8 rounded-xl
                               bg-purple-600 text-white font-semibold
                               hover:bg-purple-700 transition">
                    💾 Lưu thay đổi
                </button>
            </div>

        </form>
    </div>
</div>

@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}
